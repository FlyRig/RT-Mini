function CRay(){this.orig=glMatrix.vec4.fromValues(0,0,0,1),this.dir=glMatrix.vec4.fromValues(0,0,-1,0),this.recurseLevel=0}function CCamera(){this.eyePt=glMatrix.vec4.fromValues(0,0,0,1),this.uAxis=glMatrix.vec4.fromValues(1,0,0,0),this.vAxis=glMatrix.vec4.fromValues(0,1,0,0),this.nAxis=glMatrix.vec4.fromValues(0,0,1,0),this.iLeft=-1,this.iRight=1,this.iBot=-1,this.iTop=1,this.iNear=1,this.xmax=256,this.ymax=256,this.ufrac=(this.iRight-this.iLeft)/this.xmax,this.vfrac=(this.iTop-this.iBot)/this.ymax}CRay.prototype.printMe=function(i){null==i&&(i="[CRay]");console.log(i+".orig:"+this.orig[0].toFixed(3)+",\t"+this.orig[1].toFixed(3)+",\t"+this.orig[2].toFixed(3)+",\t"+this.orig[3].toFixed(3)+"\n"+i+".dir :"+this.dir[0].toFixed(3)+",\t "+this.dir[1].toFixed(3)+",\t "+this.dir[2].toFixed(3)+",\t "+this.dir[3].toFixed(3)+"\n------------------------")},CCamera.prototype.setSize=function(i,t){this.xmax=i,this.ymax=t,this.ufrac=(this.iRight-this.iLeft)/this.xmax,this.vfrac=(this.iTop-this.iBot)/this.ymax},CCamera.prototype.rayFrustum=function(i,t,s,e,o){console.log("you called CCamera.rayFrustum()"),this.iLeft=i,this.iRight=t,this.iBot=s,this.iTop=e,this.iNear=o},CCamera.prototype.rayPerspective=function(i,t,s){this.iNear=s,this.iTop=s*Math.tan(.5*i),this.iBot=-this.iTop,this.iRight=this.iTop*t,this.iLeft=-this.iRight},CCamera.prototype.rayLookAt=function(i,t,s){this.eyePt=i,glMatrix.vec4.subtract(this.nAxis,this.eyePt,t),glMatrix.vec4.normalize(this.nAxis,this.nAxis),glMatrix.vec3.cross(this.uAxis,s,this.nAxis),glMatrix.vec4.normalize(this.uAxis,this.uAxis),glMatrix.vec3.cross(this.vAxis,this.nAxis,this.uAxis)},CCamera.prototype.setEyeRay=function(i,t,s){t=this.iLeft+t*this.ufrac,s=this.iBot+s*this.vfrac;xyzPos=glMatrix.vec4.create(),glMatrix.vec4.scaleAndAdd(xyzPos,xyzPos,this.uAxis,t),glMatrix.vec4.scaleAndAdd(xyzPos,xyzPos,this.vAxis,s),glMatrix.vec4.scaleAndAdd(xyzPos,xyzPos,this.nAxis,-this.iNear),glMatrix.vec4.copy(i.orig,this.eyePt),glMatrix.vec4.copy(i.dir,xyzPos)},CCamera.prototype.printMe=function(){console.log("you called CCamera.printMe()")};